<section data-ng-controller="TemplateController" > 
    <h1 class="template_header col-md-12">
        Template for <span>{{global.teamActive.name}}</span>
    </h1>
    <div class="col-md-12"> 
        <ul class="nav nav-pills nav-stacked col-md-3 col-sm-3 template-list" role="tablist">
            <li role="presentation" data-ng-show="template.length > 0"> 
                <a role="menuitem"> 
                    <form name="searchTemplate" role="form" novalidate="">
                        <input class="search_template" name="search_template" type="text" placeholder="Search Template..." data-ng-model="search_query">
                    </form>
                </a> 
            </li>
            <li role="presentation" data-ng-repeat="template in template | filter:search_query" data-ng-class="{active: template._id === active._id}">
                <a href data-ng-click="select(template)">{{template.name}}</a>
                <a role="button" data-ng-click="remove(template)" class="remove"><i class="fa fa-remove"></i></a>
            </li>
            <li role="presentation"> 
                <a role="menuitem" class="new_element_hover_plus"> 
                    <form name="newTemplate" role="form" data-ng-submit="create(newTemplate.$valid)" novalidate="">
                        <input class="new_template" name="new_template" type="text" placeholder="Add new template..." data-ng-model="template_name" data-ng-blur="template_name = ''">
                    </form>
                </a>
            </li>
        </ul>
        
        <div class="template-container infographic edit col-md-9" data-ng-show="active._id" >
            <h2 class="template_header_name">
                <form name="templateName" role="form" data-ng-submit="update(active)" novalidate> 
                    <input id="templates_name_{{active._id}}" data-ng-model="active.name" class="col-md-9"/>
                    <label class="btn btn-success" role="button" data-ng-click="clone(active)"> 
                        <i class="fa fa-copy"></i>
                        Clone Template
                    </label>
                </form> 
            </h2> 
            <section class="template-edit template" data-ng-class="{'col-md-9': active_dom, 'col-md-12': !active_dom}">
                <dom-element data-ng-repeat="dom in active.doms" dom="dom"></dom-element>
            </section>
            <dom-settings data-ng-class="{'col-md-3': active_dom, 'hidden': !active_dom}"></dom-settings>
        </div>
    </div>
</section>
