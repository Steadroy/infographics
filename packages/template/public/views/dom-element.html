<div
    id="{{dom.dom_id | cleanID}}"
    on-resize="resize($evt, $ui, dom)" 
    on-resize-stop="resizeStop($evt, $ui, dom)"
    
    on-drag="drag($evt, $ui, dom)"
    on-drag-stop="dragStop($evt, $ui, dom)"
    
    data-ng-class="{
        'infographic-container': !dom.parent_dom_id,
        'infographic-element': dom.parent_dom_id,
        'overlay': dom.configuration.overlay,
        'editing': dom._id === $parent.active_dom._id || dom._id === $parent.add_dom._id,
        'highlight': global.highlighted === dom.dom_id
    }" 
    vertical-align="{{dom.configuration.font.vertical_align}}" 
    data-ng-click="localToggle()"
    class="dom-element {{!dom.parent_dom_id ? 'logo-position-' + dom.configuration.logo_position : ''}}"
    data-type='type_{{dom.configuration.overlay.type}}' data-overlay='{{dom.configuration.overlay._id| clean}}'
    style="{{dom | parseDom}}z-index:{{dom.order}}"
>
    <div data-ng-if="dom.configuration.overlay" class="inner-overlay" data-type='type_{{dom.configuration.overlay.type}}'></div>
    <div data-ng-if="dom.type === 'text'" class="dom-text" placeholder="{{placeholder | limitTo: dom.configuration.width * dom.configuration.height / (20 * parseInt(dom.configuration.font.font_size))}}"></div> 
    <div data-ng-if="dom.type === 'media'" class="dom-media"></div> 
    <div data-ng-if="dom.type === 'chart'" class="dom-chart"></div> 
    
    <form role="form" data-ng-submit="localResizeStop()" novalidate>
        <div class="size width">
            <input data-ng-model="dom.configuration.width" type="text" data-ng-blur="localResizeStop()" />
        </div> 
        <div class="size height">
            <input data-ng-model="dom.configuration.height" type="text" data-ng-blur="localResizeStop()" />
        </div>
        <input type="submit" style="position: absolute; left: -9999px; width: 1px; height: 1px;"/> 
    </form>
    <div data-ng-if="!dom.parent_dom_id" class="logo {{dom.configuration.logo_position}}" 
         data-ng-style="{'background-image': 'url(/logo/' + global.teamActive._id + '/' + global.teamActive.logo + ')'}">
    </div>
    <overlay-style data-ng-if="dom.configuration.overlay" overlay="dom.configuration.overlay"></overlay-style>
</div> 